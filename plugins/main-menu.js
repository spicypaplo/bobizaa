   import { createHash } from 'crypto'
import PhoneNumber from 'awesome-phonenumber'
import { canLevelUp, xpRange } from '../lib/levelling.js'
import fetch from 'node-fetch'
import fs from 'fs'
const { levelling } = '../lib/levelling.js'
import moment from 'moment-timezone'
import { promises } from 'fs'
import { join } from 'path'
const time = moment.tz('Egypt').format('HH')
let wib = moment.tz('Egypt').format('HH:mm:ss')
//import db from '../lib/database.js'

let handler = async (m, { conn, usedPrefix, command}) => {
    let d = new Date(new Date + 3600000)
    let locale = 'ar'
    let week = d.toLocaleDateString(locale, { weekday: 'long' })
    let date = d.toLocaleDateString(locale, { day: 'numeric', month: 'long', year: 'numeric' })
    let _uptime = process.uptime() * 1000
    let uptime = clockString(_uptime)
let who = m.quoted ? m.quoted.sender : m.mentionedJid && m.mentionedJid[0] ? m.mentionedJid[0] : m.fromMe ? conn.user.jid : m.sender
if (!(who in global.db.data.users)) throw `âœ³ï¸ The user is not found in my database`
let pp = './Gojo.jpeg'
let user = global.db.data.users[who]
let { name, exp, diamond, lastclaim, registered, regTime, age, level, role, warn } = global.db.data.users[who]
let { min, xp, max } = xpRange(user.level, global.multiplier)
let username = conn.getName(who)
let math = max - xp
let prem = global.prems.includes(who.split`@`[0])
let sn = createHash('md5').update(who).digest('hex')
let rtotalreg = Object.values(global.db.data.users).filter(user => user.registered == true).length 
let more = String.fromCharCode(8206)
let readMore = more.repeat(850) 
let taguser = '@' + m.sender.split("@s.whatsapp.net")[0]
let str = ` *âŸâ”€â”€â”€ â—Ÿ â”€â”€â”€ ðŸ¥€ â”€â”€â”€ â— â”€â”€â”€âŸ*
*â—¹ â±ï¸ â—º Ø§Ù„Ù€Ù€Ù€ÙˆÙ‚Ù€Øª  _â”‡ ${wib} â”‡_*

*â—¹ ðŸ“† â—º Ø§Ù„Ù€Ù€Ù€ØªÙ€Ø§Ø±ÙŠÙ€Ù€Ø®  _â”‡ ${date} â”‡_*
*âŸâ”€â”€â”€ â—Ÿ â”€â”€â”€ ðŸ¥€ â”€â”€â”€ â— â”€â”€â”€âŸ*
*â¦… â•ðŸ®â• Ø§Ù„Ù€Ù€Ø¬Ù€Ù€Ø±ÙˆØ¨ â¦†*
*âŸâ”€â”€â”€ â”€â”€ ðŸ® â”€â”€ â”€â”€â”€âŸ*

*â•ðŸ®â®â”‡ _.Ø¶ÙŠÙ_*
*â•ðŸ®â®â”‡ _.Ø·Ø±Ø¯_*
*â•ðŸ®â®â”‡ _.ØªØ±Ù‚ÙŠØ©_*
*â•ðŸ®â®â”‡ _.Ø§Ø¹ÙØ§Ø¡_*
*â•ðŸ®â®â”‡ _.Ø§Ù†Ø°Ø§Ø±_*
*â•ðŸ®â®â”‡ _.Ø§Ù„Ø§Ù†Ø°Ø§Ø±Ø§Øª_*
*â•ðŸ®â®â”‡ _.Ø­Ø°Ù_Ø§Ù†Ø°Ø§Ø±_*
*â•ðŸ®â®â”‡ _.Ø­Ø°Ù_*
*â•ðŸ®â®â”‡ _.Ù…Ù†Ø´Ù†_*
*â•ðŸ®â®â”‡ _.Ù…Ø®ÙÙŠ_*
*â•ðŸ®â®â”‡ _.Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†_*
*â•ðŸ®â®â”‡ _.Ù„Ù…Ù†Ø´Ù†_*
*â•ðŸ®â®â”‡ _.Ø¨Ø±ÙˆÙØ§ÙŠÙ„_*
*â•ðŸ®â®â”‡ _.Ø§Ù„Ø¬Ø±ÙˆØ¨_*
*â•ðŸ®â®â”‡ _.Ø¯Ø¹ÙˆÙ‡_*
*â•ðŸ®â®â”‡ _.ØªØºÙŠÙŠØ±_Ø§Ù„Ù„ÙŠÙ†Ùƒ_*
*â•ðŸ®â®â”‡ _.Ù„ÙÙ„_*
*â•ðŸ®â®â”‡ _.Ø§Ù„ØªØ±Ø­ÙŠØ¨_*
*â•ðŸ®â®â”‡ _.ÙˆØ¯Ø§Ø¹_*
*â•ðŸ®â®â”‡ _.Ø§ÙŠØ§Øª_*
*â•ðŸ®â®â”‡ _.Ø¨Ø±ÙŠÙ…_*
*â•ðŸ®â®â”‡ _.Ø¬Ø±ÙˆØ¨ Ù‚ÙÙ„ / ÙØªØ­_*
*â•ðŸ®â®â”‡ _Ø§ÙˆÙ‚Ù / ÙØ¹Ù„_*
*âŸâ”€â”€â”€ â—Ÿ â”€â”€â”€ ðŸ¥€ â”€â”€â”€ â— â”€â”€â”€âŸ*
*â¦… â•ðŸ•¹ï¸â• Ø§Ù„Ø£Ù„Ù€Ù€Ø¹Ù€Ù€Ø§Ø¨ â¦†*
*âŸâ”€â”€â”€ â”€â”€ ðŸ•¹ï¸ â”€â”€ â”€â”€â”€âŸ*

*â•ðŸ•¹ï¸â®â”‡ _.Ø§ÙƒØ³ Ø§Ùˆ_*
*â•ðŸ•¹ï¸â®â”‡ _.ÙƒØª_*
*â•ðŸ•¹ï¸â®â”‡ _.ÙƒØªØª_*
*â•ðŸ•¹ï¸â®â”‡ _.Ø¯ÙŠÙ†_*
*â•ðŸ•¹ï¸â®â”‡ _.Ø§Ø³Ø£Ù„Ù†ÙŠ_*
*â•ðŸ•¹ï¸â®â”‡ _.ØµØ±Ø§Ø­Ù‡_*
*â•ðŸ•¹ï¸â®â”‡ _.Ù„Ùˆ_*
*â•ðŸ•¹ï¸â®â”‡ _.Ù‡Ù„_*
*â•ðŸ•¹ï¸â®â”‡ _.ÙˆØ±Ø¹_*
*â•ðŸ•¹ï¸â®â”‡ _.Ø¬Ù…ÙŠÙ„_*
*â•ðŸ•¹ï¸â®â”‡ _.Ø®Ø±ÙˆÙ_*
*â•ðŸ•¹ï¸â®â”‡ _.Ø´Ø®ØµÙŠØ©_*
*â•ðŸ•¹ï¸â®â”‡ _.Ø¨ÙˆØ³ØªØ§Øª_*
*â•ðŸ•¹ï¸â®â”‡ _.ØªØ±Ø¬Ù…_*
*â•ðŸ•¹ï¸â®â”‡ _.Ø²ÙˆØ§Ø¬_*
*â•ðŸ•¹ï¸â®â”‡ _.ØªØ·Ù‚ÙŠÙ…_*
*â•ðŸ•¹ï¸â®â”‡ _.Ø§Ù†Ø·Ù‚_*
*âŸâ”€â”€â”€ â—Ÿ â”€â”€â”€ ðŸ¥€ â”€â”€â”€ â— â”€â”€â”€âŸ*
*â¦… â•â³â• Ø§Ù„Ù€Ù€ØªÙ€Ù€Ù†Ù€Ø²ÙŠÙ„ â¦†*
*âŸâ”€â”€â”€ â”€â”€ â³ â”€â”€ â”€â”€â”€âŸ*

*â•â³â®â”‡ _.ÙÙŠØ³Ø¨ÙˆÙƒ_*
*â•â³â®â”‡ _.Ø¯Ø±Ø§ÙŠÙ_*
*â•â³â®â”‡ _.Ù…ÙŠØ¯ÙŠØ§ÙØ§ÙŠØ±_*
*â•â³â®â”‡ _.ØªØ´ØºÙŠÙ„_*
*â•â³â®â”‡ _.ØªÙŠÙƒ_*
*â•â³â®â”‡ _.ØªÙˆÙŠØªØ±_*
*â•â³â®â”‡ _.Ø§ØºÙ†ÙŠØ©_*
*â•â³â®â”‡ _.Ø¨Ø­Ø«_*
*â•â³â®â”‡ _.ÙÙŠØ¯ÙŠÙˆ_*
*â•â³â®â”‡ _.ØµÙˆØ±Ù‡_*
*âŸâ”€â”€â”€ â—Ÿ â”€â”€â”€ ðŸ¥€ â”€â”€â”€ â— â”€â”€â”€âŸ*
*â¦… â•â™»ï¸â• Ø§Ù„Ù€Ù€ØªÙ€Ù€Ø­Ù€ÙˆÙŠÙ€Ù„ â¦†*
*âŸâ”€â”€â”€ â”€â”€ â™»ï¸ â”€â”€ â”€â”€â”€âŸ*

*â•â™»ï¸â®â”‡ _.Ù…Ù„ØµÙ‚_*
*â•â™»ï¸â®â”‡ _.Ø³Ø±Ù‚Ø©_*
*â•â™»ï¸â®â”‡ _.Ù„ÙÙŠØ¯ÙŠÙˆ_*
*â•â™»ï¸â®â”‡ _.Ù„ØµÙˆØ±Ø©_*
*â•â™»ï¸â®â”‡ _.Ø§Ø±Ø³Ù…_*
*â•â™»ï¸â®â”‡ _.Ù…ÙƒØ³_*
*â•â™»ï¸â®â”‡ _.Ù„Ø¬ÙˆØ§Ù‡Ø±_*
*â•â™»ï¸â®â”‡ _.Ø³ØªÙƒ_*
*â•â™»ï¸â®â”‡ _.Ù„Ø±Ø§Ø¨Ø·_*
*âŸâ”€â”€â”€ â—Ÿ â”€â”€â”€ ðŸ¥€ â”€â”€â”€ â— â”€â”€â”€âŸ*
*â¦… â•ðŸ”Šâ• Ø§Ù„Ø£ØµÙ€Ù€ÙˆØ§Øª â¦†*
*âŸâ”€â”€â”€ â”€â”€ ðŸ”Š â”€â”€ â”€â”€â”€âŸ*

*â•ðŸ”Šâ®â”‡ _.Ø¹Ù…ÙŠÙ‚_*
*â•ðŸ”Šâ®â”‡ _.Ù…Ù†ÙÙˆØ®_*
*â•ðŸ”Šâ®â”‡ _.ØªØ®ÙŠÙ†_*
*â•ðŸ”Šâ®â”‡ _.ØµØ§Ø®Ø¨_*
*â•ðŸ”Šâ®â”‡ _.Ø³Ø±ÙŠØ¹_*
*â•ðŸ”Šâ®â”‡ _.ØªØ®ÙŠÙ†Ù†_*
*â•ðŸ”Šâ®â”‡ _.Ø±ÙÙŠØ¹_*
*â•ðŸ”Šâ®â”‡ _.Ø±ÙˆØ¨ÙˆØª_*
*â•ðŸ”Šâ®â”‡ _.Ø¨Ø·ÙŠØ¡_*
*â•ðŸ”Šâ®â”‡ _.Ù†Ø§Ø¹Ù…_*
*â•ðŸ”Šâ®â”‡ _.Ø³Ù†Ø¬Ø§Ø¨_*
*âŸâ”€â”€â”€ â—Ÿ â”€â”€â”€ ðŸ¥€ â”€â”€â”€ â— â”€â”€â”€âŸ*
*â¦… â•ðŸ‘¨ðŸ»â€ðŸ’»â• Ø§Ù„Ù€Ù€Ù…Ù€Ù€Ø·Ù€ÙˆØ± â¦†*
*âŸâ”€â”€â”€ â”€â”€ ðŸ‘¨ðŸ»â€ðŸ’» â”€â”€ â”€â”€â”€âŸ*

*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.Ø¨Ù€Ù€Ø±ÙŠÙ€Ù€Ù…Ù€ÙŠØ§Ù…_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.Ø¨Ù€Ù€Ø±ÙŠÙ€Ù€Ù…Ù€ÙŠØ§Ù…Ù€Ù…_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.Ø¨Ù€Ù€Ø§Ù†_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.ÙÙ€Ù€Ùƒ_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.Ø§Ø·Ù€Ù€ÙÙ€Ø§Ø¡_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.ØªÙ€Ù€Ø´Ù€ØºÙ€Ù€ÙŠÙ„_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.Ø§Ù†Ù€Ù€Ø¶Ù€Ù…_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.Ø§Ù„Ù€Ù€Ù…Ù€Ø¨Ù€Ù†Ù€Ù€Ø¯ÙŠÙ€Ù€Ù†_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.Ø§Ù„Ù€Ù€Ù…Ù€Ø¯Ø©_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.ØªÙ€Ù€ÙÙ€Ù‚Ø¯-Ø§Ù„Ù€Ù€Ù…Ø¯Ø©_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.Ø­Ù€Ù€Ø°Ù-Ø§Ù„Ù€Ù€Ù…Ø¯Ø©_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.Ø§Ø¹Ù€Ù€Ù€Ø§Ø¯Ø©_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.Ø§Ø¹Ù€Ù€Ø§Ø¯Ø©ØªÙ€Ù€Ø´Ù€ØºÙ€ÙŠÙ„_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.Ù†Ù€Ù€Ù‚Ù€Ø§Ø·_*
*â•ðŸ‘¨ðŸ»â€ðŸ’»â®â”‡ _.Ø¬Ù€Ù€ÙˆØ§Ù‡Ù€Ù€Ø±_*
*âŸâ”€â”€â”€ â—Ÿ â”€â”€â”€ ðŸ¥€ â”€â”€â”€ â— â”€â”€â”€âŸ*
`
    conn.sendFile(m.chat, pp, 'perfil.jpg', str, m, false, { mentions: [who] })
m.react('âœ¨')
}
handler.help = ['main']
handler.tags = ['group']
handler.command = ['menu', 'Ø§ÙˆØ§Ù…Ø±', 'Ø§Ù„Ø§ÙˆØ§Ù…Ø±', 'help'] 

export default handler
function clockString(ms) {
    let h = isNaN(ms) ? '--' : Math.floor(ms / 3600000)
    let m = isNaN(ms) ? '--' : Math.floor(ms / 60000) % 60
    let s = isNaN(ms) ? '--' : Math.floor(ms / 1000) % 60
    return [h, m, s].map(v => v.toString().padStart(2, 0)).join(':')}

    function ucapan() {
      const time = moment.tz('Egypt').format('HH')
      let res = "Ø¨Ø¯Ø§ÙŠØ© ÙŠÙˆÙ… Ø³Ø¹ÙŠØ¯Ù‡ â˜€ï¸"
      if (time >= 4) {
        res = "ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ± ðŸŒ„"
      }
      if (time >= 10) {
        res = "Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ± â˜€ï¸"
      }
      if (time >= 15) {
        res = "Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ± ðŸŒ‡"
      }
      if (time >= 18) {
        res = "Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ± ðŸŒ™"
      }
      return res
    }
